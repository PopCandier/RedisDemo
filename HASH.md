### Hash

简单的数据结构还好，但要是复杂的数据，例如用一个key存储一张表的数据，就有些麻烦，你不可能每次设置值都像是这样

```
mest student:1:sno 001 student:1:sname:pop student:2:age:18
```

然后获取值的时候

```
mget student:1:sno student:1:sname student:1:age
```

很明显，key为了表达所存储字段到底含义，太长，而且占用空间很大。

#### Hash 哈希

![1573205964896](./img/1573205964896.png)

在`hash`的结构中，`key`更像是一种命名空间，在他的管辖下是另一个字段-值的组合。这有利于我们存储一个对象。

需要注意的是，value只能是字符串，不能镶嵌其它类型

> 同样是存储字符串，Hash和与String的主要区别

* 之前，我们定义一个对象需要若干个key与value的组合，现在只需要一个，把所有相关的值聚集到了一个key中，节省内存空间。
* 只用了一个key，减少key冲突
* 当需要批量获取值的时候，只需要使用一个命令，减少内存/IO/CPU的消耗。

> Hash 不适合到底场景

* Field 不能单独设置过期时间
* 没有 bit 操作
* 需要考虑数据量分布的问题（value 值非常大的时候，无法分摊到其他节点）

#### 操作命令

![1573207403079](./img/1573207403079.png)

首先设置 key 然后是field，最后是value

![1573207467280](./img/1573207467280.png)

